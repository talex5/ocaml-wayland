<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Wl_data_device (wayland.Wayland.Wayland_client.Wl_data_device)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland</a> &#x00BB; <a href="../index.html">Wayland_client</a> &#x00BB; Wl_data_device</nav><header class="odoc-preamble"><h1>Module <code><span>Wayland_client.Wl_data_device</span></code></h1><p>Data transfer device.</p><p>There is one wl_data_device per seat which can be obtained from the global wl_data_device_manager singleton.</p><p>A wl_data_device provides access to inter-client data transfer mechanisms such as copy-and-paste and drag-and-drop.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1">Version 1</a></li><li><a href="#version-2,-3">Version 2, 3</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> = <span><span>(<span>[ `Wl_data_device ]</span>, <span class="type-var">'v</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> Error</span><span> = <a href="../../Wayland_proto/Wl_data_device/Error/index.html">Wayland_proto.Wl_data_device.Error</a></span></code></div></div><h3 id="version-1"><a href="#version-1" class="anchor"></a>Version 1</h3><div class="odoc-spec"><div class="spec value anchored" id="val-set_selection"><a href="#val-set_selection" class="anchor"></a><code><span><span class="keyword">val</span> set_selection : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">source</span>:<span><span><span>(<span>[ `Wl_data_source ]</span>, <span class="type-var">'a</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">serial</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Copy data to the selection.</p><p>This request asks the compositor to set the selection to the data from the source on behalf of the client.</p><p>To unset the selection, set the source to NULL.</p><p>The given source may not be used in any further set_selection or start_drag requests. Attempting to reuse a previously-used source may send a used_source error.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-start_drag"><a href="#val-start_drag" class="anchor"></a><code><span><span class="keyword">val</span> start_drag : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">source</span>:<span><span><span>(<span>[ `Wl_data_source ]</span>, <span class="type-var">'a</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">origin</span>:<span><span>(<span>[ `Wl_surface ]</span>, <span class="type-var">'b</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">icon</span>:<span><span><span>(<span>[ `Wl_surface ]</span>, <span class="type-var">'c</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">serial</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Start drag-and-drop operation.</p><p>This request asks the compositor to start a drag-and-drop operation on behalf of the client.</p><p>The source argument is the data source that provides the data for the eventual data transfer. If source is NULL, enter, leave and motion events are sent only to the client that initiated the drag and the client is expected to handle the data passing internally. If source is destroyed, the drag-and-drop session will be cancelled.</p><p>The origin surface is the surface where the drag originates and the client must have an active implicit grab that matches the serial.</p><p>The icon surface is an optional (can be NULL) surface that provides an icon to be moved around with the cursor. Initially, the top-left corner of the icon surface is placed at the cursor hotspot, but subsequent wl_surface.offset requests can move the relative position. Attach requests must be confirmed with wl_surface.commit as usual. The icon surface is given the role of a drag-and-drop icon. If the icon surface already has another role, it raises a protocol error.</p><p>The input region is ignored for wl_surfaces with the role of a drag-and-drop icon.</p><p>The given source may not be used in any further set_selection or start_drag requests. Attempting to reuse a previously-used source may send a used_source error.</p></div></div><h3 id="version-2,-3"><a href="#version-2,-3" class="anchor"></a>Version 2, 3</h3><div class="odoc-spec"><div class="spec value anchored" id="val-release"><a href="#val-release" class="anchor"></a><code><span><span class="keyword">val</span> release : <span><span><span>[&lt; `V2 <span>| `V3</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Destroy data device.</p><p>This request destroys the data device.</p></div></div><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class anchored" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v2"><a href="#class-v2" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v2/index.html">v2</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 2.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v3"><a href="#class-v3" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v3/index.html">v3</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 3.</p></div></div></div></body></html>
