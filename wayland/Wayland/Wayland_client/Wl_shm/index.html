<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Wl_shm (wayland.Wayland.Wayland_client.Wl_shm)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland</a> &#x00BB; <a href="../index.html">Wayland_client</a> &#x00BB; Wl_shm</nav><header class="odoc-preamble"><h1>Module <code><span>Wayland_client.Wl_shm</span></code></h1><p>Shared memory support.</p><p>A singleton global object that provides support for shared memory.</p><p>Clients can create wl_shm_pool objects using the create_pool request.</p><p>On binding the wl_shm object one or more format events are emitted to inform clients about the valid pixel formats that can be used for buffers.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1">Version 1</a></li><li><a href="#version-2">Version 2</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> = <span><span>(<span>[ `Wl_shm ]</span>, <span class="type-var">'v</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> Error</span><span> = <a href="../../Wayland_proto/Wl_shm/Error/index.html">Wayland_proto.Wl_shm.Error</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Format"><a href="#module-Format" class="anchor"></a><code><span><span class="keyword">module</span> Format</span><span> = <a href="../../Wayland_proto/Wl_shm/Format/index.html">Wayland_proto.Wl_shm.Format</a></span></code></div></div><h3 id="version-1"><a href="#version-1" class="anchor"></a>Version 1</h3><div class="odoc-spec"><div class="spec value anchored" id="val-create_pool"><a href="#val-create_pool" class="anchor"></a><code><span><span class="keyword">val</span> create_pool : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> ]</span> <span class="keyword">as</span> 'a <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[<span>[ `Wl_shm_pool ]</span>, <span class="type-var">'b</span>, <span>[ `Client ]</span>]</span> <a href="../../Proxy/Handler/class-type-t/index.html">Proxy.Handler.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">fd</span>:<span class="xref-unresolved">Unix</span>.file_descr <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">size</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>[ `Wl_shm_pool ]</span>, <span class="type-var">'c</span>, <span>[ `Client ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span></span></code></div><div class="spec-doc"><p>Create a shm pool.</p><p>Create a new wl_shm_pool object.</p><p>The pool can be used to create shared memory based buffer objects. The server will mmap size bytes of the passed file descriptor, to use as backing memory for the pool.</p></div></div><h3 id="version-2"><a href="#version-2" class="anchor"></a>Version 2</h3><div class="odoc-spec"><div class="spec value anchored" id="val-release"><a href="#val-release" class="anchor"></a><code><span><span class="keyword">val</span> release : <span><span><span>[&lt; `V2 ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Release the shm object.</p><p>Using this request a client can tell the server that it is not going to use the shm object anymore.</p><p>Objects created via this interface remain unaffected.</p></div></div><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class anchored" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v2"><a href="#class-v2" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v2/index.html">v2</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 2.</p></div></div></div></body></html>
