<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>v1 (wayland.Wayland.Wayland_server.Wl_shm_pool.v1)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">wayland</a> &#x00BB; <a href="../../../index.html">Wayland</a> &#x00BB; <a href="../../index.html">Wayland_server</a> &#x00BB; <a href="../index.html">Wl_shm_pool</a> &#x00BB; v1</nav><header class="odoc-preamble"><h1>Class <code><span>Wl_shm_pool.v1</span></code></h1><p>Handler for a proxy with version &gt;= 1.</p></header><div class="odoc-content"><div class="odoc-spec"><div><code><span> <span class="keyword">constraint</span> <span class="type-var">'a</span> = <span>[&lt; `V1 ]</span></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-on_create_buffer" class="anchored"><a href="#method-on_create_buffer" class="anchor"></a><code><span><span class="keyword">method</span> <span class="keyword">private</span> <span class="keyword">virtual</span> on_create_buffer : <span><span><span>[&gt; `V1 ]</span> <a href="../index.html#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span>[ `Wl_buffer ]</span>, <span class="type-var">'b</span>, <span>[ `Server ]</span> )</span> <span class="xref-unresolved">Wayland__Proxy.t</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span>offset:int32 <span class="arrow">&#45;&gt;</span></span>
  <span>width:int32 <span class="arrow">&#45;&gt;</span></span>
  <span>height:int32 <span class="arrow">&#45;&gt;</span></span>
  <span>stride:int32 <span class="arrow">&#45;&gt;</span></span>
  <span>format:<span class="xref-unresolved">Wayland__Wayland_proto.Wl_shm.Format.t</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><p>Create a buffer from the pool.</p><p>Create a wl_buffer object from the pool.</p><p>The buffer is created offset bytes into the pool and has width and height as specified. The stride argument specifies the number of bytes from the beginning of one row to the beginning of the next. The format is the pixel format of the buffer and must be one of those advertised through the wl_shm.format event.</p><p>A buffer will keep a reference to the pool it was created from so it is valid to destroy the pool immediately after creating a buffer from it.</p><div class="odoc-spec"><div class="spec method" id="method-on_destroy" class="anchored"><a href="#method-on_destroy" class="anchor"></a><code><span><span class="keyword">method</span> <span class="keyword">private</span> <span class="keyword">virtual</span> on_destroy : <span><span><span>[&gt; `V1 ]</span> <a href="../index.html#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><p>Destroy the pool.</p><p>Destroy the shared memory pool.</p><p>The mmapped memory will be released when all buffers that have been created from this pool are gone.</p><div class="odoc-spec"><div class="spec method" id="method-on_resize" class="anchored"><a href="#method-on_resize" class="anchor"></a><code><span><span class="keyword">method</span> <span class="keyword">private</span> <span class="keyword">virtual</span> on_resize : <span><span><span>[&gt; `V1 ]</span> <a href="../index.html#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>size:int32 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><p>Change the size of the pool mapping.</p><p>This request will cause the server to remap the backing memory for the pool from the file descriptor passed when the pool was created, but using the new size. This request can only be used to make the pool bigger.</p><p>This request only changes the amount of bytes that are mmapped by the server and does not touch the file corresponding to the file descriptor passed at creation time. It is the client's responsibility to ensure that the file is at least as big as the new pool size.</p><div class="odoc-spec"><div class="spec method" id="method-min_version" class="anchored"><a href="#method-min_version" class="anchor"></a><code><span><span class="keyword">method</span> min_version : <span><span><span class="type-var">'a</span> <a href="#">v1</a></span> <span class="arrow">&#45;&gt;</span></span> int32</span></code></div></div></div></body></html>