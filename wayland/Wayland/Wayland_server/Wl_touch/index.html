<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Wl_touch (wayland.Wayland.Wayland_server.Wl_touch)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland</a> &#x00BB; <a href="../index.html">Wayland_server</a> &#x00BB; Wl_touch</nav><header class="odoc-preamble"><h1>Module <code><span>Wayland_server.Wl_touch</span></code></h1><p>Touchscreen input device.</p><p>The wl_touch interface represents a touchscreen associated with a seat.</p><p>Touch interactions can consist of one or more contacts. For each contact, a series of events is generated, starting with a down event, followed by zero or more motion events, and ending with an up event. Events relating to the same contact point can be identified by the ID of the sequence.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1,-2">Version 1, 2</a></li><li><a href="#version-3,-4,-5">Version 3, 4, 5</a></li><li><a href="#version-6,-7,-8,-9">Version 6, 7, 8, 9</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> = <span><span>(<span>[ `Wl_touch ]</span>, <span class="type-var">'v</span>, <span>[ `Server ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span></span></code></div></div><h3 id="version-1,-2"><a href="#version-1,-2" class="anchor"></a>Version 1, 2</h3><div class="odoc-spec"><div class="spec value anchored" id="val-cancel"><a href="#val-cancel" class="anchor"></a><code><span><span class="keyword">val</span> cancel : <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> <span>| `V5</span> <span>| `V6</span> <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Touch session cancelled.</p><p>Sent if the compositor decides the touch stream is a global gesture. No further events are sent to the clients from that particular gesture. Touch cancellation applies to all touch points currently active on this client's surface. The client is responsible for finalizing the touch points, future touch points on this surface may reuse the touch point ID.</p><p>No frame event is required after the cancel event.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-frame"><a href="#val-frame" class="anchor"></a><code><span><span class="keyword">val</span> frame : <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> <span>| `V5</span> <span>| `V6</span> <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>End of touch frame event.</p><p>Indicates the end of a set of events that logically belong together. A client is expected to accumulate the data in all events within the frame before proceeding.</p><p>A wl_touch.frame terminates at least one event but otherwise no guarantee is provided about the set of events within a frame. A client must assume that any state not updated in a frame is unchanged from the previously known state.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-motion"><a href="#val-motion" class="anchor"></a><code><span><span class="keyword">val</span> motion : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> <span>| `V5</span> <span>| `V6</span> <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">time</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">id</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">x</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">y</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Update of touch point coordinates.</p><p>A touch point has changed coordinates.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-up"><a href="#val-up" class="anchor"></a><code><span><span class="keyword">val</span> up : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> <span>| `V5</span> <span>| `V6</span> <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">serial</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">time</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">id</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>End of a touch event sequence.</p><p>The touch point has disappeared. No further events will be sent for this touch point and the touch point's ID is released and may be reused in a future touch down event.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-down"><a href="#val-down" class="anchor"></a><code><span><span class="keyword">val</span> down : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> <span>| `V5</span> <span>| `V6</span> <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">serial</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">time</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">surface</span>:<span><span>(<span>[ `Wl_surface ]</span>, <span class="type-var">'a</span>, <span>[ `Server ]</span>)</span> <a href="../../Proxy/index.html#type-t">Proxy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">id</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">x</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">y</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Touch down event and beginning of a touch sequence.</p><p>A new touch point has appeared on the surface. This touch point is assigned a unique ID. Future events from this touch point reference this ID. The ID ceases to be valid after a touch up event and may be reused in the future.</p></div></div><h3 id="version-3,-4,-5"><a href="#version-3,-4,-5" class="anchor"></a>Version 3, 4, 5</h3><h3 id="version-6,-7,-8,-9"><a href="#version-6,-7,-8,-9" class="anchor"></a>Version 6, 7, 8, 9</h3><div class="odoc-spec"><div class="spec value anchored" id="val-orientation"><a href="#val-orientation" class="anchor"></a><code><span><span class="keyword">val</span> orientation : 
  <span><span><span>[&lt; `V6 <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">id</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">orientation</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Update orientation of touch point.</p><p>Sent when a touchpoint has changed its orientation.</p><p>This event does not occur on its own. It is sent before a wl_touch.frame event and carries the new shape information for any previously reported, or new touch points of that frame.</p><p>Other events describing the touch point such as wl_touch.down, wl_touch.motion or wl_touch.shape may be sent within the same wl_touch.frame. A client should treat these events as a single logical touch point update. The order of wl_touch.shape, wl_touch.orientation and wl_touch.motion is not guaranteed. A wl_touch.down event is guaranteed to occur before the first wl_touch.orientation event for this touch ID but both events may occur within the same wl_touch.frame.</p><p>The orientation describes the clockwise angle of a touchpoint's major axis to the positive surface y-axis and is normalized to the -180 to +180 degree range. The granularity of orientation depends on the touch device, some devices only support binary rotation values between 0 and 90 degrees.</p><p>This event is only sent by the compositor if the touch device supports orientation reports.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-shape"><a href="#val-shape" class="anchor"></a><code><span><span class="keyword">val</span> shape : 
  <span><span><span>[&lt; `V6 <span>| `V7</span> <span>| `V8</span> <span>| `V9</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">id</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">major</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">minor</span>:<a href="../../Fixed/index.html#type-t">Fixed.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Update shape of touch point.</p><p>Sent when a touchpoint has changed its shape.</p><p>This event does not occur on its own. It is sent before a wl_touch.frame event and carries the new shape information for any previously reported, or new touch points of that frame.</p><p>Other events describing the touch point such as wl_touch.down, wl_touch.motion or wl_touch.orientation may be sent within the same wl_touch.frame. A client should treat these events as a single logical touch point update. The order of wl_touch.shape, wl_touch.orientation and wl_touch.motion is not guaranteed. A wl_touch.down event is guaranteed to occur before the first wl_touch.shape event for this touch ID but both events may occur within the same wl_touch.frame.</p><p>A touchpoint shape is approximated by an ellipse through the major and minor axis length. The major axis length describes the longer diameter of the ellipse, while the minor axis length describes the shorter diameter. Major and minor are orthogonal and both are specified in surface-local coordinates. The center of the ellipse is always at the touchpoint location as reported by wl_touch.down or wl_touch.move.</p><p>This event is only sent by the compositor if the touch device supports shape reports. The client has to make reasonable assumptions about the shape if it did not receive this event.</p></div></div><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class anchored" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v2"><a href="#class-v2" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v2/index.html">v2</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 2.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v3"><a href="#class-v3" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v3/index.html">v3</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 3.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v4"><a href="#class-v4" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v4/index.html">v4</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 4.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v5"><a href="#class-v5" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v5/index.html">v5</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 5.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v6"><a href="#class-v6" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v6/index.html">v6</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 6.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v7"><a href="#class-v7" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v7/index.html">v7</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 7.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v8"><a href="#class-v8" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v8/index.html">v8</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 8.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v9"><a href="#class-v9" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v9/index.html">v9</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 9.</p></div></div></div></body></html>
