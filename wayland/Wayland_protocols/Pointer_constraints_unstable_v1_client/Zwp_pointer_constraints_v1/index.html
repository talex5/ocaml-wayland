<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zwp_pointer_constraints_v1 (wayland.Wayland_protocols.Pointer_constraints_unstable_v1_client.Zwp_pointer_constraints_v1)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland_protocols</a> &#x00BB; <a href="../index.html">Pointer_constraints_unstable_v1_client</a> &#x00BB; Zwp_pointer_constraints_v1</nav><header class="odoc-preamble"><h1>Module <code><span>Pointer_constraints_unstable_v1_client.Zwp_pointer_constraints_v1</span></code></h1><p>Constrain the movement of a pointer.</p><p>The global interface exposing pointer constraining functionality. It exposes two requests: lock_pointer for locking the pointer to its position, and confine_pointer for locking the pointer to a region.</p><p>The lock_pointer and confine_pointer requests create the objects wp_locked_pointer and wp_confined_pointer respectively, and the client can use these objects to interact with the lock.</p><p>For any surface, only one lock or confinement may be active across all wl_pointer objects of the same seat. If a lock or confinement is requested when another lock or confinement is active or requested on the same surface and with any of the wl_pointer objects of the same seat, an 'already_constrained' error will be raised.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1">Version 1</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> = <span><span>(<span>[ `Zwp_pointer_constraints_v1 ]</span>, <span class="type-var">'v</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> Error</span><span> =
  <a href="../../Pointer_constraints_unstable_v1_proto/Zwp_pointer_constraints_v1/Error/index.html">Pointer_constraints_unstable_v1_proto.Zwp_pointer_constraints_v1.Error</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Lifetime"><a href="#module-Lifetime" class="anchor"></a><code><span><span class="keyword">module</span> Lifetime</span><span> =
  <a href="../../Pointer_constraints_unstable_v1_proto/Zwp_pointer_constraints_v1/Lifetime/index.html">Pointer_constraints_unstable_v1_proto.Zwp_pointer_constraints_v1.Lifetime</a></span></code></div></div><h3 id="version-1"><a href="#version-1" class="anchor"></a>Version 1</h3><div class="odoc-spec"><div class="spec value anchored" id="val-confine_pointer"><a href="#val-confine_pointer" class="anchor"></a><code><span><span class="keyword">val</span> confine_pointer : 
  <span><span><span>[&lt; `V1 ]</span> <span class="keyword">as</span> 'a <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[<span>[ `Zwp_confined_pointer_v1 ]</span>, <span class="type-var">'b</span>, <span>[ `Client ]</span>]</span> <a href="../../../Wayland/Proxy/Handler/class-type-t/index.html">Wayland.Proxy.Handler.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">surface</span>:<span><span>(<span>[ `Wl_surface ]</span>, <span class="type-var">'c</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">pointer</span>:<span><span>(<span>[ `Wl_pointer ]</span>, <span class="type-var">'d</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">region</span>:<span><span><span>(<span>[ `Wl_region ]</span>, <span class="type-var">'e</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">lifetime</span>:<span class="xref-unresolved">{Imports}1.Zwp_pointer_constraints_v1.Lifetime.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>[ `Zwp_confined_pointer_v1 ]</span>, <span class="type-var">'f</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span></span></code></div><div class="spec-doc"><p>Confine pointer to a region.</p><p>The confine_pointer request lets the client request to confine the pointer cursor to a given region. This request may not take effect immediately; in the future, when the compositor deems implementation- specific constraints are satisfied, the pointer confinement will be activated and the compositor sends a confined event.</p><p>The intersection of the region passed with this request and the input region of the surface is used to determine where the pointer must be in order for the confinement to activate. It is up to the compositor whether to warp the pointer or require some kind of user interaction for the confinement to activate. If the region is null the surface input region is used.</p><p>The request will create a new object wp_confined_pointer which is used to interact with the confinement as well as receive updates about its state. See the the description of wp_confined_pointer for further information.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lock_pointer"><a href="#val-lock_pointer" class="anchor"></a><code><span><span class="keyword">val</span> lock_pointer : 
  <span><span><span>[&lt; `V1 ]</span> <span class="keyword">as</span> 'a <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[<span>[ `Zwp_locked_pointer_v1 ]</span>, <span class="type-var">'b</span>, <span>[ `Client ]</span>]</span> <a href="../../../Wayland/Proxy/Handler/class-type-t/index.html">Wayland.Proxy.Handler.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">surface</span>:<span><span>(<span>[ `Wl_surface ]</span>, <span class="type-var">'c</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">pointer</span>:<span><span>(<span>[ `Wl_pointer ]</span>, <span class="type-var">'d</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">region</span>:<span><span><span>(<span>[ `Wl_region ]</span>, <span class="type-var">'e</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">lifetime</span>:<span class="xref-unresolved">{Imports}1.Zwp_pointer_constraints_v1.Lifetime.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>[ `Zwp_locked_pointer_v1 ]</span>, <span class="type-var">'f</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span></span></code></div><div class="spec-doc"><p>Lock pointer to a position.</p><p>The lock_pointer request lets the client request to disable movements of the virtual pointer (i.e. the cursor), effectively locking the pointer to a position. This request may not take effect immediately; in the future, when the compositor deems implementation-specific constraints are satisfied, the pointer lock will be activated and the compositor sends a locked event.</p><p>The protocol provides no guarantee that the constraints are ever satisfied, and does not require the compositor to send an error if the constraints cannot ever be satisfied. It is thus possible to request a lock that will never activate.</p><p>There may not be another pointer constraint of any kind requested or active on the surface for any of the wl_pointer objects of the seat of the passed pointer when requesting a lock. If there is, an error will be raised. See general pointer lock documentation for more details.</p><p>The intersection of the region passed with this request and the input region of the surface is used to determine where the pointer must be in order for the lock to activate. It is up to the compositor whether to warp the pointer or require some kind of user interaction for the lock to activate. If the region is null the surface input region is used.</p><p>A surface may receive pointer focus without the lock being activated.</p><p>The request creates a new object wp_locked_pointer which is used to interact with the lock as well as receive updates about its state. See the the description of wp_locked_pointer for further information.</p><p>Note that while a pointer is locked, the wl_pointer objects of the corresponding seat will not emit any wl_pointer.motion events, but relative motion events will still be emitted via wp_relative_pointer objects of the same seat. wl_pointer.axis and wl_pointer.button events are unaffected.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-destroy"><a href="#val-destroy" class="anchor"></a><code><span><span class="keyword">val</span> destroy : <span><span><span>[&lt; `V1 ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Destroy the pointer constraints manager object.</p><p>Used by the client to notify the server that it will no longer use this pointer constraints object.</p></div></div><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class anchored" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div></div></body></html>
