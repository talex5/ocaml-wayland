<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zwlr_layer_surface_v1 (wayland.Wayland_protocols.Wlr_layer_shell_unstable_v1_server.Zwlr_layer_surface_v1)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland_protocols</a> &#x00BB; <a href="../index.html">Wlr_layer_shell_unstable_v1_server</a> &#x00BB; Zwlr_layer_surface_v1</nav><header class="odoc-preamble"><h1>Module <code><span>Wlr_layer_shell_unstable_v1_server.Zwlr_layer_surface_v1</span></code></h1><p>Layer metadata interface.</p><p>An interface that may be implemented by a wl_surface, for surfaces that are designed to be rendered as a layer of a stacked desktop-like environment.</p><p>Layer surface state (layer, size, anchor, exclusive zone, margin, interactivity) is double-buffered, and will be applied at the time wl_surface.commit of the corresponding wl_surface is called.</p><p>Attaching a null buffer to a layer surface unmaps it.</p><p>Unmapping a layer_surface means that the surface cannot be shown by the compositor until it is explicitly mapped again. The layer_surface returns to the state it had right after layer_shell.get_layer_surface. The client can re-map the surface by performing a commit without any buffer attached, waiting for a configure event and handling it as usual.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1">Version 1</a></li><li><a href="#version-2,-3,-4">Version 2, 3, 4</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> = <span><span>(<span>[ `Zwlr_layer_surface_v1 ]</span>, <span class="type-var">'v</span>, <span>[ `Server ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Keyboard_interactivity"><a href="#module-Keyboard_interactivity" class="anchor"></a><code><span><span class="keyword">module</span> Keyboard_interactivity</span><span> =
  <a href="../../Wlr_layer_shell_unstable_v1_proto/Zwlr_layer_surface_v1/Keyboard_interactivity/index.html">Wlr_layer_shell_unstable_v1_proto.Zwlr_layer_surface_v1.Keyboard_interactivity</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> Error</span><span> = <a href="../../Wlr_layer_shell_unstable_v1_proto/Zwlr_layer_surface_v1/Error/index.html">Wlr_layer_shell_unstable_v1_proto.Zwlr_layer_surface_v1.Error</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Anchor"><a href="#module-Anchor" class="anchor"></a><code><span><span class="keyword">module</span> Anchor</span><span> = <a href="../../Wlr_layer_shell_unstable_v1_proto/Zwlr_layer_surface_v1/Anchor/index.html">Wlr_layer_shell_unstable_v1_proto.Zwlr_layer_surface_v1.Anchor</a></span></code></div></div><h3 id="version-1"><a href="#version-1" class="anchor"></a>Version 1</h3><div class="odoc-spec"><div class="spec value anchored" id="val-closed"><a href="#val-closed" class="anchor"></a><code><span><span class="keyword">val</span> closed : <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Surface should be closed.</p><p>The closed event is sent by the compositor when the surface will no longer be shown. The output may have been destroyed or the user may have asked for it to be removed. Further changes to the surface will be ignored. The client should destroy the resource after receiving this event, and create a new surface if they so choose.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-configure"><a href="#val-configure" class="anchor"></a><code><span><span class="keyword">val</span> configure : 
  <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> <span>| `V4</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">serial</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">width</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">height</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Suggest a surface change.</p><p>The configure event asks the client to resize its surface.</p><p>Clients should arrange their surface for the new states, and then send an ack_configure request with the serial sent in this configure event at some point before committing the new surface.</p><p>The client is free to dismiss all but the last configure event it received.</p><p>The width and height arguments specify the size of the window in surface-local coordinates.</p><p>The size is a hint, in the sense that the client is free to ignore it if it doesn't resize, pick a smaller size (to satisfy aspect ratio or resize in steps of NxM pixels). If the client picks a smaller size and is anchored to two opposite anchors (e.g. 'top' and 'bottom'), the surface will be centered on this axis.</p><p>If the width or height arguments are zero, it means the client should decide its own window dimension.</p></div></div><h3 id="version-2,-3,-4"><a href="#version-2,-3,-4" class="anchor"></a>Version 2, 3, 4</h3><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class anchored" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v2"><a href="#class-v2" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v2/index.html">v2</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 2.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v3"><a href="#class-v3" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v3/index.html">v3</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 3.</p></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-v4"><a href="#class-v4" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v4/index.html">v4</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 4.</p></div></div></div></body></html>
