<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zwp_primary_selection_offer_v1 (wayland.Wayland_protocols.Wp_primary_selection_unstable_v1_client.Zwp_primary_selection_offer_v1)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland_protocols</a> &#x00BB; <a href="../index.html">Wp_primary_selection_unstable_v1_client</a> &#x00BB; Zwp_primary_selection_offer_v1</nav><header class="odoc-preamble"><h1>Module <code><span>Wp_primary_selection_unstable_v1_client.Zwp_primary_selection_offer_v1</span></code></h1><p>Offer to transfer primary selection contents.</p><p>A wp_primary_selection_offer represents an offer to transfer the contents of the primary selection clipboard to the client. Similar to wl_data_offer, the offer also describes the mime types that the data can be converted to and provides the mechanisms for transferring the data directly to the client.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1">Version 1</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> =
  <span><span>(<span>[ `Zwp_primary_selection_offer_v1 ]</span>, <span class="type-var">'v</span>, <span>[ `Client ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span></span></code></div></div><h3 id="version-1"><a href="#version-1" class="anchor"></a>Version 1</h3><div class="odoc-spec"><div class="spec value anchored" id="val-destroy"><a href="#val-destroy" class="anchor"></a><code><span><span class="keyword">val</span> destroy : <span><span><span>[&lt; `V1 ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Destroy the primary selection offer.</p><p>Destroy the primary selection offer.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-receive"><a href="#val-receive" class="anchor"></a><code><span><span class="keyword">val</span> receive : <span><span><span>[&lt; `V1 ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">mime_type</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">fd</span>:<span class="xref-unresolved">Unix</span>.file_descr <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Request that the data is transferred.</p><p>To transfer the contents of the primary selection clipboard, the client issues this request and indicates the mime type that it wants to receive. The transfer happens through the passed file descriptor (typically created with the pipe system call). The source client writes the data in the mime type representation requested and then closes the file descriptor.</p><p>The receiving client reads from the read end of the pipe until EOF and closes its end, at which point the transfer is complete.</p></div></div><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class anchored" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div></div></body></html>
