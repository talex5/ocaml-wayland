<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Xdg_popup (wayland.Wayland_protocols.Xdg_shell_server.Xdg_popup)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland_protocols</a> &#x00BB; <a href="../index.html">Xdg_shell_server</a> &#x00BB; Xdg_popup</nav><h1>Module <code>Xdg_shell_server.Xdg_popup</code></h1><p>Short-lived, popup surfaces for menus.</p><p>A popup surface is a short-lived, temporary surface. It can be used to implement for example menus, popovers, tooltips and other similar user interface concepts.</p><p>A popup can be made to take an explicit grab. See xdg_popup.grab for details.</p><p>When the popup is dismissed, a popup_done event will be sent out, and at the same time the surface will be unmapped. See the xdg_popup.popup_done event for details.</p><p>Explicitly destroying the xdg_popup object will also dismiss the popup and unmap the surface. Clients that want to dismiss the popup when another surface of their own is clicked should dismiss the popup using the destroy request.</p><p>A newly created xdg_popup will be stacked on top of all previously created xdg_popup surfaces associated with the same xdg_toplevel.</p><p>The parent of an xdg_popup must be mapped (see the xdg_surface description) before the xdg_popup itself.</p><p>The client must call wl_surface.commit on the corresponding wl_surface for the xdg_popup state to take effect.</p><nav class="toc"><ul><li><a href="#version-1,-2">Version 1, 2</a></li><li><a href="#version-3">Version 3</a></li><li><a href="#handlers">Handlers</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'v t</span></code><code> = <span><span>(<span>[ `Xdg_popup ]</span>, <span class="type-var">'v</span>, <span>[ `Server ]</span>)</span> <a href="../$Open__4_95/index.html#module-$Proxy">$Proxy</a>.t</span></code></dt></dl><div class="spec module" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span class="keyword">module</span> Error = <a href="../../Xdg_shell_proto/Xdg_popup/index.html#module-Error">Xdg_shell_proto.Xdg_popup.Error</a></code></div><section><header><h3 id="version-1,-2"><a href="#version-1,-2" class="anchor"></a>Version 1, 2</h3></header><dl><dt class="spec value" id="val-popup_done"><a href="#val-popup_done" class="anchor"></a><code><span class="keyword">val</span> popup_done : <span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> ]</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Popup interaction is done.</p><p>The popup_done event is sent out when a popup is dismissed by the compositor. The client should destroy the xdg_popup object at this point.</p></dd></dl><dl><dt class="spec value" id="val-configure"><a href="#val-configure" class="anchor"></a><code><span class="keyword">val</span> configure : <span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> ]</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>x:int32</span> <span>&#45;&gt;</span> <span>y:int32</span> <span>&#45;&gt;</span> <span>width:int32</span> <span>&#45;&gt;</span> <span>height:int32</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Configure the popup surface.</p><p>This event asks the popup surface to configure itself given the configuration. The configured state should not be applied immediately. See xdg_surface.configure for details.</p><p>The x and y arguments represent the position the popup was placed at given the xdg_positioner rule, relative to the upper left corner of the window geometry of the parent surface.</p><p>For version 2 or older, the configure event for an xdg_popup is only ever sent once for the initial configuration. Starting with version 3, it may be sent again if the popup is setup with an xdg_positioner with set_reactive requested, or in response to xdg_popup.reposition requests.</p></dd></dl></section><section><header><h3 id="version-3"><a href="#version-3" class="anchor"></a>Version 3</h3></header><dl><dt class="spec value" id="val-repositioned"><a href="#val-repositioned" class="anchor"></a><code><span class="keyword">val</span> repositioned : <span><span>[&lt; `V3 ]</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>token:int32</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Signal the completion of a repositioned request.</p><p>The repositioned event is sent as part of a popup configuration sequence, together with xdg_popup.configure and lastly xdg_surface.configure to notify the completion of a reposition request.</p><p>The repositioned event is to notify about the completion of a xdg_popup.reposition request. The token argument is the token passed in the xdg_popup.reposition request.</p><p>Immediately after this event is emitted, xdg_popup.configure and xdg_surface.configure will be sent with the updated size and position, as well as a new configure serial.</p><p>The client should optionally update the content of the popup, but must acknowledge the new popup configuration for the new position to take effect. See xdg_surface.ack_configure for details.</p></dd></dl></section><section><header><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p></header><dl><dt class="spec class" id="class-v1"><a href="#class-v1" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">virtual</span> +'a <a href="class-v1/index.html">v1</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Handler for a proxy with version &gt;= 1.</p></dd></dl><dl><dt class="spec class" id="class-v2"><a href="#class-v2" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">virtual</span> +'a <a href="class-v2/index.html">v2</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Handler for a proxy with version &gt;= 2.</p></dd></dl><dl><dt class="spec class" id="class-v3"><a href="#class-v3" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">virtual</span> +'a <a href="class-v3/index.html">v3</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Handler for a proxy with version &gt;= 3.</p></dd></dl></section></div></body></html>